{"ast":null,"code":"import _defineProperty from \"/Users/sarfarazkasmani/Desktop/photoframe/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport { database } from '../database/config';\nexport function startAddingPhoto(photo) {\n  return function (dispatch) {\n    return database.ref('allPhotos').update(_defineProperty({}, photo.id, photo)).then(function () {\n      dispatch(addPhoto(photo));\n    }).catch(function (error) {\n      console.log(error);\n    });\n  };\n}\nexport function startLoadingPhoto() {\n  return function (dispatch) {\n    return database.ref('allPhotos').once('value').then(function (snapshot) {\n      var allPhotos = [];\n      snapshot.forEach(function (childSnapshot) {\n        allPhotos.push(childSnapshot.val());\n      });\n      dispatch(loadPhoto(allPhotos));\n    });\n  };\n}\nexport function startRemovingPhoto(index, id) {\n  return function (dispatch) {\n    return database.ref(\"allPhotos/\".concat(id)).remove().then(function () {\n      dispatch(removePhoto(index));\n    });\n  };\n}\nexport function startAddingComment(comment, photoId) {\n  return function (dispatch) {\n    return database.ref('comments/' + photoId);\n  };\n}\nexport function removePhoto(index) {\n  return {\n    type: 'REMOVE_PHOTO',\n    index: index\n  };\n}\nexport function addPhoto(photo) {\n  return {\n    type: 'ADD_PHOTO',\n    photo: photo\n  };\n}\nexport function addComment(comment, photoId) {\n  return {\n    type: 'ADD_COMMENT',\n    comment: comment,\n    photoId: photoId\n  };\n}\nexport function loadPhoto(allPhotos) {\n  return {\n    type: 'LOAD_PHOTOS',\n    allPhotos: allPhotos\n  };\n}","map":{"version":3,"sources":["/Users/sarfarazkasmani/Desktop/photoframe/src/redux/actions.js"],"names":["database","startAddingPhoto","photo","dispatch","ref","update","id","then","addPhoto","catch","error","console","log","startLoadingPhoto","once","snapshot","allPhotos","forEach","childSnapshot","push","val","loadPhoto","startRemovingPhoto","index","remove","removePhoto","startAddingComment","comment","photoId","type","addComment"],"mappings":";AAAA,SAAQA,QAAR,QAAuB,oBAAvB;AAGA,OAAO,SAASC,gBAAT,CAA0BC,KAA1B,EAAiC;AACpC,SAAM,UAACC,QAAD,EAAc;AAChB,WAAOH,QAAQ,CAACI,GAAT,CAAa,WAAb,EAA0BC,MAA1B,qBAAmCH,KAAK,CAACI,EAAzC,EAA+CJ,KAA/C,GAAuDK,IAAvD,CAA4D,YAAM;AACrEJ,MAAAA,QAAQ,CAACK,QAAQ,CAACN,KAAD,CAAT,CAAR;AACH,KAFM,EAEJO,KAFI,CAEE,UAACC,KAAD,EAAW;AAChBC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACH,KAJM,CAAP;AAKH,GAND;AAOH;AAED,OAAO,SAASG,iBAAT,GAA6B;AAChC,SAAO,UAACV,QAAD,EAAc;AACjB,WAAOH,QAAQ,CAACI,GAAT,CAAa,WAAb,EAA0BU,IAA1B,CAA+B,OAA/B,EAAwCP,IAAxC,CAA6C,UAACQ,QAAD,EAAc;AAC9D,UAAIC,SAAS,GAAG,EAAhB;AACAD,MAAAA,QAAQ,CAACE,OAAT,CAAiB,UAACC,aAAD,EAAmB;AAChCF,QAAAA,SAAS,CAACG,IAAV,CAAeD,aAAa,CAACE,GAAd,EAAf;AACH,OAFD;AAGAjB,MAAAA,QAAQ,CAACkB,SAAS,CAACL,SAAD,CAAV,CAAR;AACH,KANM,CAAP;AAOH,GARD;AASH;AAED,OAAO,SAASM,kBAAT,CAA4BC,KAA5B,EAAmCjB,EAAnC,EAAuC;AAC1C,SAAO,UAACH,QAAD,EAAc;AACjB,WAAOH,QAAQ,CAACI,GAAT,qBAA0BE,EAA1B,GAAgCkB,MAAhC,GAAyCjB,IAAzC,CAA8C,YAAM;AACvDJ,MAAAA,QAAQ,CAACsB,WAAW,CAACF,KAAD,CAAZ,CAAR;AACH,KAFM,CAAP;AAGH,GAJD;AAKH;AAED,OAAO,SAASG,kBAAT,CAA4BC,OAA5B,EAAqCC,OAArC,EAA8C;AACjD,SAAO,UAACzB,QAAD,EAAc;AACjB,WAAOH,QAAQ,CAACI,GAAT,CAAa,cAAYwB,OAAzB,CAAP;AACH,GAFD;AAGH;AAED,OAAO,SAASH,WAAT,CAAqBF,KAArB,EAA4B;AAC/B,SAAO;AACHM,IAAAA,IAAI,EAAE,cADH;AAEHN,IAAAA,KAAK,EAALA;AAFG,GAAP;AAIH;AAED,OAAO,SAASf,QAAT,CAAkBN,KAAlB,EAAyB;AAC5B,SAAO;AACH2B,IAAAA,IAAI,EAAE,WADH;AAEH3B,IAAAA,KAAK,EAALA;AAFG,GAAP;AAIH;AAED,OAAO,SAAS4B,UAAT,CAAoBH,OAApB,EAA6BC,OAA7B,EAAsC;AACzC,SAAO;AACHC,IAAAA,IAAI,EAAE,aADH;AAEHF,IAAAA,OAAO,EAAPA,OAFG;AAGHC,IAAAA,OAAO,EAAPA;AAHG,GAAP;AAKH;AAED,OAAO,SAASP,SAAT,CAAmBL,SAAnB,EAA8B;AACjC,SAAO;AACHa,IAAAA,IAAI,EAAE,aADH;AAEHb,IAAAA,SAAS,EAATA;AAFG,GAAP;AAIH","sourcesContent":["import {database} from '../database/config'\n\n\nexport function startAddingPhoto(photo) {\n    return(dispatch) => {\n        return database.ref('allPhotos').update({[photo.id] : photo}).then(() => {\n            dispatch(addPhoto(photo))\n        }).catch((error) => {\n            console.log(error)\n        })\n    }\n}\n\nexport function startLoadingPhoto() {\n    return (dispatch) => {\n        return database.ref('allPhotos').once('value').then((snapshot) => {\n            let allPhotos = []\n            snapshot.forEach((childSnapshot) => {\n                allPhotos.push(childSnapshot.val())\n            })\n            dispatch(loadPhoto(allPhotos))\n        })\n    }\n}\n\nexport function startRemovingPhoto(index, id) {\n    return (dispatch) => {\n        return database.ref(`allPhotos/${id}`).remove().then(() => {\n            dispatch(removePhoto(index))\n        })\n    }\n}\n\nexport function startAddingComment(comment, photoId) {\n    return (dispatch) => {\n        return database.ref('comments/'+photoId)\n    }\n}\n\nexport function removePhoto(index) {\n    return {\n        type: 'REMOVE_PHOTO',\n        index\n    }\n}\n\nexport function addPhoto(photo) {\n    return {\n        type: 'ADD_PHOTO',\n        photo\n    }\n}\n\nexport function addComment(comment, photoId) {\n    return {\n        type: 'ADD_COMMENT',\n        comment,\n        photoId\n    }\n}\n\nexport function loadPhoto(allPhotos) {\n    return {\n        type: 'LOAD_PHOTOS',\n        allPhotos\n    }\n}"]},"metadata":{},"sourceType":"module"}